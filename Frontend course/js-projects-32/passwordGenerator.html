<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>
<body>
    <div class="container">
        <h1>Password Generator</h1>
        <div class="display-container">
            <input type="text" readonly placeholder="Password" class="display" data-passwordDisplay>

            <button data-copy>
                <span data-copyMsg>Copied</span>
                <img src="https://codehelp-password-generator.netlify.app/assets/copy.svg" alt="copy" width="23" height="23">
            </button>
        </div>

        <div class="input-container">
            <!--password length secction-->
            <div class="length-container">
                <p>Password Length</p>
                <p data-lengthNumber>0</p>
            </div>

            <!--slider-->
            <input type="range" min="1" max="20" class="slider" step="1" data-lengthSlider>

            <!--checkboxes-->
            <div>
                <input type="checkbox"  id="uppercase">
                <label for="uppercase">Include Uppercase Letters</label>
            </div>
            <div>
                <input type="checkbox"  id="lowercase">
                <label for="lowercase">Include Lowercase Letters</label>
            </div>
            <div>
                <input type="checkbox"  id="numbers">
                <label for="numbers">Include Numbers</label>
            </div>
            <div>
                <input type="checkbox"  id="symbols">
                <label for="symbols">Include Symbols</label>
            </div>

            <!--strength section-->
            <div class="strength-container">
                <p>Strength</p>
                <div data-indicator></div>
            </div>

            <!--generate passoword-->
            <button class="generateButton">Generate Password</button>
        </div>
    </div>
    <script>
        const inputSlider= document.querySelector("[data-lengthSlider]");
        const lengthDisplay= document.querySelector("[data-lengthNumber]");


        const passwordDisplay= document.querySelector("[data-passwordDisplay]");
        const copyBtn= document.querySelector("[data-copy]");
        const copyMsg= document.querySelector("[data-copyMsg]");
        const uppercaseCheck= document.querySelector("#uppercase");
        const lowercaseCheck= document.querySelector("#lowercase");
        const numbersCheck= document.querySelector("#numbers");
        const symbolsCheck= document.querySelector("#symbols");
        const indicator= document.querySelector("[data-indicator]");
        const generateBtn= document.querySelector(".generateButton");
        const allCheckBox= document.querySelector("input[type=checkbox]");
        const symbols='~`!@#$%^&*()_-+={[}]|:;"<,>?/';


        let password= "";
        let passwordLength=10;
        let checkCount=1;
        // set strength circle color to grey
         handleSlider();
        //set passwordLength
        function handleSlider(){
            inputSlider.value= passwordLength;
            lengthDisplay.innerText=passwordLength;

        }

        function setIndicator(){
            indicator.style.backgroundColor= color;
            indicator.style.boxShadow=`0px 0px 12px 1px $(color)`;

        }

        function getRandomInteger(min, max){
            return Math.floor(Math.random()*(max-min))+min;

        }

        function generateRandomNumber(){
            return getRandomInteger(0,9);
        }

        function generateLowerCase(){
            return String.fromCharCode(getRandomInteger(97,123));
        }

        function generateUpperCase(){
            return String.fromCharCode(getRandomInteger(65,91));
        }

        function generateSymbol(){
            const randNum= getRandomInteger(0, symbols.length);
            return symbols.charAt(randNum);
            
        }

        function calcStrength(){
            let hasUpper= false;
            let hasLower= false;
            let hasNum= false;
            let hasSym= false;

            if(uppercaseCheck.checked)hasUpper=true;
            if(lowercaseCheck.checked)hasLower=true;
            if(numbersCheck.checked)hasNum=true;
            if(symbolsCheck.checked)hasSym=true;


            if(hasUpper && hasLower &&(hasNum || hasSym) && passwordLength>=8){
                setIndicator("#0f0");
            } else if(
                (hasLower || hasUpper)&&(hasNum || hasSym) && passwordLength>=6
            ){
                setIndicator("#ff0");
            } else{
                setIndicator("#f00");
            }
        }

        async function copyContent(){

            try {
                await navigator.clipboard.writeText(passwordDisplay.value);
                copyMsg.innerText="copied";

            } catch (e) {
                copyMsg.innerText="Failed";
            }

            //to set copy span visible

            copyMsg.classList.add("active")

            setTimeout(()=>{
                copyMsg.classList.remove("active");
            }, 2000);

        }


    </script>
</body>
</html>